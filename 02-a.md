# 02-a: ミュータブルクラス（関数）

次はもう少し複雑な処理を考えてみます。

[01](01-a.md) では魔王が勇者を攻撃するだけで、勇者は魔王を攻撃しませんでした。もし勇者も魔王を攻撃しようとすると、下記と同じようなコードをもう一度書かなければなりません。

```swift
let damage = Swift.max(0, (archfiend.attack - hero.defense) / 2)
hero.hp -= damage
```

プログラミングにおいて、同じ処理を複数箇所に書くのは原則として避けるべきこととされています。これは、単に書くのが大変だというだけでなく、メンテナンス性を保つだめです。たとえば、上記のダメージの計算式が複数箇所に書かれていると、ルールを変更して計算式を修正するときにコードベースの複数箇所を修正しないといけなくなってしまいます。

というわけで、攻撃するという処理を関数に切り出すことを考えてみましょう。

```swift
func performAttack(by character: Character, to target: Character) {
    ...
}
```

## 問題

[02-a.swift](02-a.swift) の `// TODO` の部分を修正して、勇者が魔王を攻撃し、その後、魔王が勇者を攻撃するようにプログラムを完成させて下さい。

---

- [解答](02-a-answer.swift)
- [次の課題](02-b.md)
